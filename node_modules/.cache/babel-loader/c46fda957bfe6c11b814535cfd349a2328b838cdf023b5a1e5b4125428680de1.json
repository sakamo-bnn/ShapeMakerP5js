{"ast":null,"code":"/* **************************************** */ /*                操作画面                  */ /* *************************************** */ /* < 実装内容 >                             */ /* Operation: 操作画面全体，ボタン関連の処理 */ /* - 画像挿入                               */ /* - クリア                                 */ /* - 取り消し関連                           */ /* - コードの生成                           */ /* Canvas: キャンバス(造形箇所)              */ /* **************************************** */import Sketch from\"react-p5\";import{optionInfo}from\"../App\";import{opeInfo}from\"../App\";import{createVector}from\"./p5js/libOriginal/p5jsOrigin\";import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";let history=[];// 操作履歴\nlet delHistory=[];// 削除した操作履歴\n// 操作画面内の固定テキスト\nconst str={// ボタン\nbtn:{importImage:\"Import Image\",clear:\"頂点のクリア\",generateCode:\"Generate Code\",undo:\"←\",redo:\"→\"}};export default function Operation(_ref){let{generateCode,className}=_ref;// 操作の取り消し\nfunction undo(){if(history.length<=1)return;delHistory.push(history.pop());opeInfo.vertexes=history[history.length-1].slice();generateCode();}// 「操作の取り消し」の取り消し\nfunction redo(){if(delHistory.length<1)return;history.push(delHistory.pop());opeInfo.vertexes=history[history.length-1].slice();generateCode();}// 全頂点の削除\nfunction clear(){if(opeInfo.vertexes.length!=0){opeInfo.vertexes=[].slice();history.push(opeInfo.vertexes.slice());delHistory=[];generateCode();}}return/*#__PURE__*/_jsx(\"div\",{id:\"Operation\",className:className,children:/*#__PURE__*/_jsxs(\"div\",{className:\"Operation\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"OperationTopButton\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:clear,className:\"leftButton\",children:[\" \",str.btn.clear]})}),/*#__PURE__*/_jsx(Canvas,{CanvasId:\"Canvas\",generateCode:generateCode}),/*#__PURE__*/_jsxs(\"div\",{className:\"OperationBottomButton\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:undo,className:\"leftButton\",children:str.btn.undo}),/*#__PURE__*/_jsx(\"button\",{onClick:redo,className:\"rightButton\",children:str.btn.redo})]})]})});}function Canvas(_ref2){let{CanvasId,generateCode}=_ref2;let vertexRadius=5;// 頂点を描画する円の半径\nconst setup=(p5,canvasParentRef)=>{// 画面左半分の横幅(style.css の --main-left-width と同じ値)を算出する\nlet main_left_width=0.5*document.getElementById('root').clientWidth;// 左コンテンツの横幅(style.css の --main-left-contents と同じ値)を算出する\nlet main_left_contents=0.55;let w=main_left_contents*main_left_width;if(w>document.getElementById('Operation').clientHeight){console.log(\"canvas size was chasnged\");w=0.8*document.getElementById('Operation').clientHeight;}p5.createCanvas(w,w).parent(canvasParentRef);p5.strokeWeight(1);p5.rectMode(p5.CENTER);history.push(opeInfo.vertexes.slice());/* p5のスケッチ内容を梱包している要素の幅を調整する */let sketchNode=document.getElementById(CanvasId);let sketchWrapper=sketchNode.childNodes[0];sketchWrapper.style.width=w+'px';sketchWrapper.style.height=w+'px';};const draw=p5=>{p5.background(200);p5.push();p5.translate(p5.width/2,p5.height/2);// 図形の描画\nshaper(p5);// p5オブジェクトを引数として渡す\n// 座標軸の描画\np5.push();p5.stroke(0,0,255);p5.line(0,-p5.height/2,0,p5.height/2);// y軸\np5.stroke(255,0,0);p5.line(-p5.width/2,0,p5.width/2,0);// x軸\np5.pop();// 点の描画\nif(opeInfo.vertexes.length>0){// 頂点の描画: 始点\np5.fill(255,0,0);p5.ellipse(opeInfo.vertexes[0].x,opeInfo.vertexes[0].y,vertexRadius,vertexRadius);// 頂点の描画: 中間に定義した点\nfor(let i=1;i<opeInfo.vertexes.length-1;i++){p5.fill(0);p5.ellipse(opeInfo.vertexes[i].x,opeInfo.vertexes[i].y,vertexRadius,vertexRadius);}// 頂点の描画: 終点\np5.fill(0,0,255);p5.ellipse(opeInfo.vertexes[opeInfo.vertexes.length-1].x,opeInfo.vertexes[opeInfo.vertexes.length-1].y,vertexRadius,vertexRadius);// 重心の描画\np5.fill(0,255,0);p5.translate(opeInfo.center.x,opeInfo.center.y);p5.rotate(p5.PI/4);// 45度の回転\nif(opeInfo.vertexes.length>=3)p5.rect(0,0,vertexRadius,vertexRadius);}p5.pop();};const mousePressed=p5=>{// キャンバス外のクリックは無視する\nif(p5.mouseX<0||p5.width<p5.mouseX||p5.mouseY<0||p5.height<p5.mouseY)return;// 頂点の追加\nopeInfo.vertexes.push(createVector(p5.mouseX-p5.width/2,p5.mouseY-p5.height/2));// 頂点履歴の更新\nhistory.push(opeInfo.vertexes.slice());delHistory=[];generateCode();};function shaper(p5){// 頂点が未定義であるときは描画しない\nif(opeInfo.vertexes.length===0){return;}p5.push();p5.stroke(0);p5.beginShape();// 頂点を結ぶ線が直線であるか曲線か\nif(!optionInfo.isCurveVertex){for(let i=0;i<opeInfo.vertexes.length;i++){p5.vertex(opeInfo.vertexes[i].x,opeInfo.vertexes[i].y);}// 始点から終点を結ぶか否か\nif(!optionInfo.isClose){p5.endShape();}else{p5.endShape(p5.CLOSE);}}else{// 始点から終点を結ぶか否か\nif(!optionInfo.isClose){p5.curveVertex(opeInfo.vertexes[0].x,opeInfo.vertexes[0].y);for(let i=0;i<opeInfo.vertexes.length;i++)p5.curveVertex(opeInfo.vertexes[i].x,opeInfo.vertexes[i].y);p5.curveVertex(opeInfo.vertexes[opeInfo.vertexes.length-1].x,opeInfo.vertexes[opeInfo.vertexes.length-1].y);p5.endShape();}else{if(opeInfo.vertexes.length<3){p5.curveVertex(opeInfo.vertexes[0].x,opeInfo.vertexes[0].y);for(let i=0;i<opeInfo.vertexes.length;i++)p5.curveVertex(opeInfo.vertexes[i].x,opeInfo.vertexes[i].y);p5.endShape(p5.CLOSE);}else{for(let i=0;i<opeInfo.vertexes.length;i++)p5.curveVertex(opeInfo.vertexes[i].x,opeInfo.vertexes[i].y);for(let i=0;i<3;i++)p5.curveVertex(opeInfo.vertexes[i].x,opeInfo.vertexes[i].y);p5.endShape();}}}p5.pop();}return/*#__PURE__*/_jsx(\"div\",{id:CanvasId,children:/*#__PURE__*/_jsx(Sketch,{setup:setup,draw:draw,mousePressed:mousePressed})});};","map":{"version":3,"names":["Sketch","optionInfo","opeInfo","createVector","jsxs","_jsxs","jsx","_jsx","history","delHistory","str","btn","importImage","clear","generateCode","undo","redo","Operation","_ref","className","length","push","pop","vertexes","slice","id","children","onClick","Canvas","CanvasId","_ref2","vertexRadius","setup","p5","canvasParentRef","main_left_width","document","getElementById","clientWidth","main_left_contents","w","clientHeight","console","log","createCanvas","parent","strokeWeight","rectMode","CENTER","sketchNode","sketchWrapper","childNodes","style","width","height","draw","background","translate","shaper","stroke","line","fill","ellipse","x","y","i","center","rotate","PI","rect","mousePressed","mouseX","mouseY","beginShape","isCurveVertex","vertex","isClose","endShape","CLOSE","curveVertex"],"sources":["C:/Users/takum/Documents/GitHub/ShapeMakerP5js/src/segment/Operation.js"],"sourcesContent":["/* **************************************** */\r\n/*                操作画面                  */\r\n/* *************************************** */\r\n/* < 実装内容 >                             */\r\n/* Operation: 操作画面全体，ボタン関連の処理 */\r\n/* - 画像挿入                               */\r\n/* - クリア                                 */\r\n/* - 取り消し関連                           */\r\n/* - コードの生成                           */\r\n/* Canvas: キャンバス(造形箇所)              */\r\n/* **************************************** */\r\nimport Sketch from \"react-p5\";\r\nimport { optionInfo } from \"../App\";\r\nimport { opeInfo } from \"../App\";\r\nimport { createVector } from \"./p5js/libOriginal/p5jsOrigin\";\r\n\r\nlet history = [];     // 操作履歴\r\nlet delHistory = [];  // 削除した操作履歴\r\n\r\n// 操作画面内の固定テキスト\r\nconst str = {\r\n  // ボタン\r\n  btn:\r\n  {\r\n    importImage: \"Import Image\",\r\n    clear: \"頂点のクリア\",\r\n    generateCode: \"Generate Code\",\r\n    undo: \"←\",\r\n    redo: \"→\",\r\n  },\r\n};\r\n\r\nexport default function Operation({ generateCode, className }) {\r\n  // 操作の取り消し\r\n  function undo() {\r\n    if (history.length <= 1) return;\r\n\r\n    delHistory.push(history.pop());\r\n    opeInfo.vertexes = history[history.length - 1].slice();\r\n    generateCode();\r\n  }\r\n\r\n  // 「操作の取り消し」の取り消し\r\n  function redo() {\r\n    if (delHistory.length < 1) return;\r\n\r\n    history.push(delHistory.pop());\r\n    opeInfo.vertexes = history[history.length - 1].slice();\r\n    generateCode();\r\n  }\r\n\r\n  // 全頂点の削除\r\n  function clear() {\r\n    if (opeInfo.vertexes.length != 0) {\r\n      opeInfo.vertexes = [].slice();\r\n      history.push(opeInfo.vertexes.slice());\r\n      delHistory = [];\r\n      generateCode();\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div id=\"Operation\" className={className}>\r\n      <div className=\"Operation\">\r\n        <div className=\"OperationTopButton\">\r\n          <button onClick={clear} className=\"leftButton\" > {str.btn.clear}</button>\r\n        </div>\r\n\r\n        <Canvas CanvasId=\"Canvas\" generateCode={generateCode} />\r\n\r\n        <div className=\"OperationBottomButton\">\r\n          <button onClick={undo} className=\"leftButton\" >{str.btn.undo}</button>\r\n          <button onClick={redo} className=\"rightButton\" >{str.btn.redo}</button>\r\n        </div>\r\n      </div>\r\n    </div >\r\n  );\r\n}\r\n\r\nfunction Canvas({ CanvasId, generateCode }) {\r\n  let vertexRadius = 5; // 頂点を描画する円の半径\r\n\r\n  const setup = (p5, canvasParentRef) => {\r\n    // 画面左半分の横幅(style.css の --main-left-width と同じ値)を算出する\r\n    let main_left_width = 0.5 * document.getElementById('root').clientWidth;\r\n    // 左コンテンツの横幅(style.css の --main-left-contents と同じ値)を算出する\r\n    let main_left_contents = 0.55;\r\n\r\n    let w = main_left_contents * main_left_width;\r\n\r\n    if (w > document.getElementById('Operation').clientHeight) {\r\n      console.log(\"canvas size was chasnged\")\r\n      w = 0.8 * document.getElementById('Operation').clientHeight\r\n    }\r\n\r\n    p5.createCanvas(w, w).parent(canvasParentRef);\r\n\r\n    p5.strokeWeight(1);\r\n    p5.rectMode(p5.CENTER);\r\n\r\n    history.push(opeInfo.vertexes.slice());\r\n\r\n    /* p5のスケッチ内容を梱包している要素の幅を調整する */\r\n    let sketchNode = document.getElementById(CanvasId);\r\n    let sketchWrapper = sketchNode.childNodes[0];\r\n    sketchWrapper.style.width = w + 'px';\r\n    sketchWrapper.style.height = w + 'px';\r\n  };\r\n\r\n  const draw = (p5) => {\r\n    p5.background(200);\r\n\r\n    p5.push();\r\n    p5.translate(p5.width / 2, p5.height / 2);\r\n\r\n    // 図形の描画\r\n    shaper(p5); // p5オブジェクトを引数として渡す\r\n\r\n    // 座標軸の描画\r\n    p5.push();\r\n    p5.stroke(0, 0, 255);\r\n    p5.line(0, -p5.height / 2, 0, p5.height / 2); // y軸\r\n    p5.stroke(255, 0, 0);\r\n    p5.line(-p5.width / 2, 0, p5.width / 2, 0);   // x軸\r\n    p5.pop();\r\n\r\n    // 点の描画\r\n    if (opeInfo.vertexes.length > 0) {\r\n      // 頂点の描画: 始点\r\n      p5.fill(255, 0, 0);\r\n      p5.ellipse(opeInfo.vertexes[0].x, opeInfo.vertexes[0].y, vertexRadius, vertexRadius);\r\n\r\n      // 頂点の描画: 中間に定義した点\r\n      for (let i = 1; i < opeInfo.vertexes.length - 1; i++) {\r\n        p5.fill(0);\r\n        p5.ellipse(opeInfo.vertexes[i].x, opeInfo.vertexes[i].y, vertexRadius, vertexRadius);\r\n      }\r\n\r\n      // 頂点の描画: 終点\r\n      p5.fill(0, 0, 255);\r\n      p5.ellipse(\r\n        opeInfo.vertexes[opeInfo.vertexes.length - 1].x,\r\n        opeInfo.vertexes[opeInfo.vertexes.length - 1].y,\r\n        vertexRadius,\r\n        vertexRadius\r\n      );\r\n\r\n      // 重心の描画\r\n      p5.fill(0, 255, 0);\r\n      p5.translate(opeInfo.center.x, opeInfo.center.y);\r\n      p5.rotate(p5.PI / 4);  // 45度の回転\r\n\r\n      if (opeInfo.vertexes.length >= 3)\r\n        p5.rect(0, 0, vertexRadius, vertexRadius);\r\n\r\n    }\r\n    p5.pop();\r\n  };\r\n\r\n  const mousePressed = (p5) => {\r\n    // キャンバス外のクリックは無視する\r\n    if (p5.mouseX < 0 || p5.width < p5.mouseX || p5.mouseY < 0 || p5.height < p5.mouseY)\r\n      return;\r\n\r\n    // 頂点の追加\r\n    opeInfo.vertexes.push(createVector(p5.mouseX - p5.width / 2, p5.mouseY - p5.height / 2));\r\n\r\n    // 頂点履歴の更新\r\n    history.push(opeInfo.vertexes.slice());\r\n    delHistory = [];\r\n    generateCode();\r\n  };\r\n\r\n  function shaper(p5) {\r\n    // 頂点が未定義であるときは描画しない\r\n    if (opeInfo.vertexes.length === 0) {\r\n      return;\r\n    }\r\n\r\n    p5.push();\r\n    p5.stroke(0);\r\n    p5.beginShape();\r\n\r\n    // 頂点を結ぶ線が直線であるか曲線か\r\n    if (!optionInfo.isCurveVertex) {\r\n      for (let i = 0; i < opeInfo.vertexes.length; i++) {\r\n        p5.vertex(opeInfo.vertexes[i].x, opeInfo.vertexes[i].y);\r\n      }\r\n\r\n      // 始点から終点を結ぶか否か\r\n      if (!optionInfo.isClose) {\r\n        p5.endShape();\r\n      } else {\r\n        p5.endShape(p5.CLOSE);\r\n      }\r\n    } else {\r\n      // 始点から終点を結ぶか否か\r\n      if (!optionInfo.isClose) {\r\n        p5.curveVertex(opeInfo.vertexes[0].x, opeInfo.vertexes[0].y);\r\n\r\n        for (let i = 0; i < opeInfo.vertexes.length; i++)\r\n          p5.curveVertex(opeInfo.vertexes[i].x, opeInfo.vertexes[i].y);\r\n\r\n        p5.curveVertex(opeInfo.vertexes[opeInfo.vertexes.length - 1].x, opeInfo.vertexes[opeInfo.vertexes.length - 1].y);\r\n\r\n        p5.endShape();\r\n      } else {\r\n        if (opeInfo.vertexes.length < 3) {\r\n          p5.curveVertex(opeInfo.vertexes[0].x, opeInfo.vertexes[0].y);\r\n\r\n          for (let i = 0; i < opeInfo.vertexes.length; i++)\r\n            p5.curveVertex(opeInfo.vertexes[i].x, opeInfo.vertexes[i].y);\r\n\r\n          p5.endShape(p5.CLOSE);\r\n        } else {\r\n          for (let i = 0; i < opeInfo.vertexes.length; i++)\r\n            p5.curveVertex(opeInfo.vertexes[i].x, opeInfo.vertexes[i].y);\r\n\r\n          for (let i = 0; i < 3; i++)\r\n            p5.curveVertex(opeInfo.vertexes[i].x, opeInfo.vertexes[i].y);\r\n\r\n          p5.endShape();\r\n        }\r\n      }\r\n    }\r\n    p5.pop();\r\n  }\r\n\r\n  return (\r\n    <div id={CanvasId}>\r\n      <Sketch\r\n        setup={setup}\r\n        draw={draw}\r\n        mousePressed={mousePressed}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":"AAAA,+CACA,2CACA,8CACA,2CACA,iCACA,2CACA,4CACA,yCACA,yCACA,uCACA,8CACA,MAAO,CAAAA,MAAM,KAAM,UAAU,CAC7B,OAASC,UAAU,KAAQ,QAAQ,CACnC,OAASC,OAAO,KAAQ,QAAQ,CAChC,OAASC,YAAY,KAAQ,+BAA+B,CAAC,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,yBAE7D,GAAI,CAAAC,OAAO,CAAG,EAAE,CAAM;AACtB,GAAI,CAAAC,UAAU,CAAG,EAAE,CAAG;AAEtB;AACA,KAAM,CAAAC,GAAG,CAAG,CACV;AACAC,GAAG,CACH,CACEC,WAAW,CAAE,cAAc,CAC3BC,KAAK,CAAE,QAAQ,CACfC,YAAY,CAAE,eAAe,CAC7BC,IAAI,CAAE,GAAG,CACTC,IAAI,CAAE,GACR,CACF,CAAC,CAED,cAAe,SAAS,CAAAC,SAASA,CAAAC,IAAA,CAA8B,IAA7B,CAAEJ,YAAY,CAAEK,SAAU,CAAC,CAAAD,IAAA,CAC3D;AACA,QAAS,CAAAH,IAAIA,CAAA,CAAG,CACd,GAAIP,OAAO,CAACY,MAAM,EAAI,CAAC,CAAE,OAEzBX,UAAU,CAACY,IAAI,CAACb,OAAO,CAACc,GAAG,CAAC,CAAC,CAAC,CAC9BpB,OAAO,CAACqB,QAAQ,CAAGf,OAAO,CAACA,OAAO,CAACY,MAAM,CAAG,CAAC,CAAC,CAACI,KAAK,CAAC,CAAC,CACtDV,YAAY,CAAC,CAAC,CAChB,CAEA;AACA,QAAS,CAAAE,IAAIA,CAAA,CAAG,CACd,GAAIP,UAAU,CAACW,MAAM,CAAG,CAAC,CAAE,OAE3BZ,OAAO,CAACa,IAAI,CAACZ,UAAU,CAACa,GAAG,CAAC,CAAC,CAAC,CAC9BpB,OAAO,CAACqB,QAAQ,CAAGf,OAAO,CAACA,OAAO,CAACY,MAAM,CAAG,CAAC,CAAC,CAACI,KAAK,CAAC,CAAC,CACtDV,YAAY,CAAC,CAAC,CAChB,CAEA;AACA,QAAS,CAAAD,KAAKA,CAAA,CAAG,CACf,GAAIX,OAAO,CAACqB,QAAQ,CAACH,MAAM,EAAI,CAAC,CAAE,CAChClB,OAAO,CAACqB,QAAQ,CAAG,EAAE,CAACC,KAAK,CAAC,CAAC,CAC7BhB,OAAO,CAACa,IAAI,CAACnB,OAAO,CAACqB,QAAQ,CAACC,KAAK,CAAC,CAAC,CAAC,CACtCf,UAAU,CAAG,EAAE,CACfK,YAAY,CAAC,CAAC,CAChB,CACF,CAEA,mBACEP,IAAA,QAAKkB,EAAE,CAAC,WAAW,CAACN,SAAS,CAAEA,SAAU,CAAAO,QAAA,cACvCrB,KAAA,QAAKc,SAAS,CAAC,WAAW,CAAAO,QAAA,eACxBnB,IAAA,QAAKY,SAAS,CAAC,oBAAoB,CAAAO,QAAA,cACjCrB,KAAA,WAAQsB,OAAO,CAAEd,KAAM,CAACM,SAAS,CAAC,YAAY,CAAAO,QAAA,EAAE,GAAC,CAAChB,GAAG,CAACC,GAAG,CAACE,KAAK,EAAS,CAAC,CACtE,CAAC,cAENN,IAAA,CAACqB,MAAM,EAACC,QAAQ,CAAC,QAAQ,CAACf,YAAY,CAAEA,YAAa,CAAE,CAAC,cAExDT,KAAA,QAAKc,SAAS,CAAC,uBAAuB,CAAAO,QAAA,eACpCnB,IAAA,WAAQoB,OAAO,CAAEZ,IAAK,CAACI,SAAS,CAAC,YAAY,CAAAO,QAAA,CAAGhB,GAAG,CAACC,GAAG,CAACI,IAAI,CAAS,CAAC,cACtER,IAAA,WAAQoB,OAAO,CAAEX,IAAK,CAACG,SAAS,CAAC,aAAa,CAAAO,QAAA,CAAGhB,GAAG,CAACC,GAAG,CAACK,IAAI,CAAS,CAAC,EACpE,CAAC,EACH,CAAC,CACF,CAAC,CAEX,CAEA,QAAS,CAAAY,MAAMA,CAAAE,KAAA,CAA6B,IAA5B,CAAED,QAAQ,CAAEf,YAAa,CAAC,CAAAgB,KAAA,CACxC,GAAI,CAAAC,YAAY,CAAG,CAAC,CAAE;AAEtB,KAAM,CAAAC,KAAK,CAAGA,CAACC,EAAE,CAAEC,eAAe,GAAK,CACrC;AACA,GAAI,CAAAC,eAAe,CAAG,GAAG,CAAGC,QAAQ,CAACC,cAAc,CAAC,MAAM,CAAC,CAACC,WAAW,CACvE;AACA,GAAI,CAAAC,kBAAkB,CAAG,IAAI,CAE7B,GAAI,CAAAC,CAAC,CAAGD,kBAAkB,CAAGJ,eAAe,CAE5C,GAAIK,CAAC,CAAGJ,QAAQ,CAACC,cAAc,CAAC,WAAW,CAAC,CAACI,YAAY,CAAE,CACzDC,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAC,CACvCH,CAAC,CAAG,GAAG,CAAGJ,QAAQ,CAACC,cAAc,CAAC,WAAW,CAAC,CAACI,YAAY,CAC7D,CAEAR,EAAE,CAACW,YAAY,CAACJ,CAAC,CAAEA,CAAC,CAAC,CAACK,MAAM,CAACX,eAAe,CAAC,CAE7CD,EAAE,CAACa,YAAY,CAAC,CAAC,CAAC,CAClBb,EAAE,CAACc,QAAQ,CAACd,EAAE,CAACe,MAAM,CAAC,CAEtBxC,OAAO,CAACa,IAAI,CAACnB,OAAO,CAACqB,QAAQ,CAACC,KAAK,CAAC,CAAC,CAAC,CAEtC,+BACA,GAAI,CAAAyB,UAAU,CAAGb,QAAQ,CAACC,cAAc,CAACR,QAAQ,CAAC,CAClD,GAAI,CAAAqB,aAAa,CAAGD,UAAU,CAACE,UAAU,CAAC,CAAC,CAAC,CAC5CD,aAAa,CAACE,KAAK,CAACC,KAAK,CAAGb,CAAC,CAAG,IAAI,CACpCU,aAAa,CAACE,KAAK,CAACE,MAAM,CAAGd,CAAC,CAAG,IAAI,CACvC,CAAC,CAED,KAAM,CAAAe,IAAI,CAAItB,EAAE,EAAK,CACnBA,EAAE,CAACuB,UAAU,CAAC,GAAG,CAAC,CAElBvB,EAAE,CAACZ,IAAI,CAAC,CAAC,CACTY,EAAE,CAACwB,SAAS,CAACxB,EAAE,CAACoB,KAAK,CAAG,CAAC,CAAEpB,EAAE,CAACqB,MAAM,CAAG,CAAC,CAAC,CAEzC;AACAI,MAAM,CAACzB,EAAE,CAAC,CAAE;AAEZ;AACAA,EAAE,CAACZ,IAAI,CAAC,CAAC,CACTY,EAAE,CAAC0B,MAAM,CAAC,CAAC,CAAE,CAAC,CAAE,GAAG,CAAC,CACpB1B,EAAE,CAAC2B,IAAI,CAAC,CAAC,CAAE,CAAC3B,EAAE,CAACqB,MAAM,CAAG,CAAC,CAAE,CAAC,CAAErB,EAAE,CAACqB,MAAM,CAAG,CAAC,CAAC,CAAE;AAC9CrB,EAAE,CAAC0B,MAAM,CAAC,GAAG,CAAE,CAAC,CAAE,CAAC,CAAC,CACpB1B,EAAE,CAAC2B,IAAI,CAAC,CAAC3B,EAAE,CAACoB,KAAK,CAAG,CAAC,CAAE,CAAC,CAAEpB,EAAE,CAACoB,KAAK,CAAG,CAAC,CAAE,CAAC,CAAC,CAAI;AAC9CpB,EAAE,CAACX,GAAG,CAAC,CAAC,CAER;AACA,GAAIpB,OAAO,CAACqB,QAAQ,CAACH,MAAM,CAAG,CAAC,CAAE,CAC/B;AACAa,EAAE,CAAC4B,IAAI,CAAC,GAAG,CAAE,CAAC,CAAE,CAAC,CAAC,CAClB5B,EAAE,CAAC6B,OAAO,CAAC5D,OAAO,CAACqB,QAAQ,CAAC,CAAC,CAAC,CAACwC,CAAC,CAAE7D,OAAO,CAACqB,QAAQ,CAAC,CAAC,CAAC,CAACyC,CAAC,CAAEjC,YAAY,CAAEA,YAAY,CAAC,CAEpF;AACA,IAAK,GAAI,CAAAkC,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAG/D,OAAO,CAACqB,QAAQ,CAACH,MAAM,CAAG,CAAC,CAAE6C,CAAC,EAAE,CAAE,CACpDhC,EAAE,CAAC4B,IAAI,CAAC,CAAC,CAAC,CACV5B,EAAE,CAAC6B,OAAO,CAAC5D,OAAO,CAACqB,QAAQ,CAAC0C,CAAC,CAAC,CAACF,CAAC,CAAE7D,OAAO,CAACqB,QAAQ,CAAC0C,CAAC,CAAC,CAACD,CAAC,CAAEjC,YAAY,CAAEA,YAAY,CAAC,CACtF,CAEA;AACAE,EAAE,CAAC4B,IAAI,CAAC,CAAC,CAAE,CAAC,CAAE,GAAG,CAAC,CAClB5B,EAAE,CAAC6B,OAAO,CACR5D,OAAO,CAACqB,QAAQ,CAACrB,OAAO,CAACqB,QAAQ,CAACH,MAAM,CAAG,CAAC,CAAC,CAAC2C,CAAC,CAC/C7D,OAAO,CAACqB,QAAQ,CAACrB,OAAO,CAACqB,QAAQ,CAACH,MAAM,CAAG,CAAC,CAAC,CAAC4C,CAAC,CAC/CjC,YAAY,CACZA,YACF,CAAC,CAED;AACAE,EAAE,CAAC4B,IAAI,CAAC,CAAC,CAAE,GAAG,CAAE,CAAC,CAAC,CAClB5B,EAAE,CAACwB,SAAS,CAACvD,OAAO,CAACgE,MAAM,CAACH,CAAC,CAAE7D,OAAO,CAACgE,MAAM,CAACF,CAAC,CAAC,CAChD/B,EAAE,CAACkC,MAAM,CAAClC,EAAE,CAACmC,EAAE,CAAG,CAAC,CAAC,CAAG;AAEvB,GAAIlE,OAAO,CAACqB,QAAQ,CAACH,MAAM,EAAI,CAAC,CAC9Ba,EAAE,CAACoC,IAAI,CAAC,CAAC,CAAE,CAAC,CAAEtC,YAAY,CAAEA,YAAY,CAAC,CAE7C,CACAE,EAAE,CAACX,GAAG,CAAC,CAAC,CACV,CAAC,CAED,KAAM,CAAAgD,YAAY,CAAIrC,EAAE,EAAK,CAC3B;AACA,GAAIA,EAAE,CAACsC,MAAM,CAAG,CAAC,EAAItC,EAAE,CAACoB,KAAK,CAAGpB,EAAE,CAACsC,MAAM,EAAItC,EAAE,CAACuC,MAAM,CAAG,CAAC,EAAIvC,EAAE,CAACqB,MAAM,CAAGrB,EAAE,CAACuC,MAAM,CACjF,OAEF;AACAtE,OAAO,CAACqB,QAAQ,CAACF,IAAI,CAAClB,YAAY,CAAC8B,EAAE,CAACsC,MAAM,CAAGtC,EAAE,CAACoB,KAAK,CAAG,CAAC,CAAEpB,EAAE,CAACuC,MAAM,CAAGvC,EAAE,CAACqB,MAAM,CAAG,CAAC,CAAC,CAAC,CAExF;AACA9C,OAAO,CAACa,IAAI,CAACnB,OAAO,CAACqB,QAAQ,CAACC,KAAK,CAAC,CAAC,CAAC,CACtCf,UAAU,CAAG,EAAE,CACfK,YAAY,CAAC,CAAC,CAChB,CAAC,CAED,QAAS,CAAA4C,MAAMA,CAACzB,EAAE,CAAE,CAClB;AACA,GAAI/B,OAAO,CAACqB,QAAQ,CAACH,MAAM,GAAK,CAAC,CAAE,CACjC,OACF,CAEAa,EAAE,CAACZ,IAAI,CAAC,CAAC,CACTY,EAAE,CAAC0B,MAAM,CAAC,CAAC,CAAC,CACZ1B,EAAE,CAACwC,UAAU,CAAC,CAAC,CAEf;AACA,GAAI,CAACxE,UAAU,CAACyE,aAAa,CAAE,CAC7B,IAAK,GAAI,CAAAT,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAG/D,OAAO,CAACqB,QAAQ,CAACH,MAAM,CAAE6C,CAAC,EAAE,CAAE,CAChDhC,EAAE,CAAC0C,MAAM,CAACzE,OAAO,CAACqB,QAAQ,CAAC0C,CAAC,CAAC,CAACF,CAAC,CAAE7D,OAAO,CAACqB,QAAQ,CAAC0C,CAAC,CAAC,CAACD,CAAC,CAAC,CACzD,CAEA;AACA,GAAI,CAAC/D,UAAU,CAAC2E,OAAO,CAAE,CACvB3C,EAAE,CAAC4C,QAAQ,CAAC,CAAC,CACf,CAAC,IAAM,CACL5C,EAAE,CAAC4C,QAAQ,CAAC5C,EAAE,CAAC6C,KAAK,CAAC,CACvB,CACF,CAAC,IAAM,CACL;AACA,GAAI,CAAC7E,UAAU,CAAC2E,OAAO,CAAE,CACvB3C,EAAE,CAAC8C,WAAW,CAAC7E,OAAO,CAACqB,QAAQ,CAAC,CAAC,CAAC,CAACwC,CAAC,CAAE7D,OAAO,CAACqB,QAAQ,CAAC,CAAC,CAAC,CAACyC,CAAC,CAAC,CAE5D,IAAK,GAAI,CAAAC,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAG/D,OAAO,CAACqB,QAAQ,CAACH,MAAM,CAAE6C,CAAC,EAAE,CAC9ChC,EAAE,CAAC8C,WAAW,CAAC7E,OAAO,CAACqB,QAAQ,CAAC0C,CAAC,CAAC,CAACF,CAAC,CAAE7D,OAAO,CAACqB,QAAQ,CAAC0C,CAAC,CAAC,CAACD,CAAC,CAAC,CAE9D/B,EAAE,CAAC8C,WAAW,CAAC7E,OAAO,CAACqB,QAAQ,CAACrB,OAAO,CAACqB,QAAQ,CAACH,MAAM,CAAG,CAAC,CAAC,CAAC2C,CAAC,CAAE7D,OAAO,CAACqB,QAAQ,CAACrB,OAAO,CAACqB,QAAQ,CAACH,MAAM,CAAG,CAAC,CAAC,CAAC4C,CAAC,CAAC,CAEhH/B,EAAE,CAAC4C,QAAQ,CAAC,CAAC,CACf,CAAC,IAAM,CACL,GAAI3E,OAAO,CAACqB,QAAQ,CAACH,MAAM,CAAG,CAAC,CAAE,CAC/Ba,EAAE,CAAC8C,WAAW,CAAC7E,OAAO,CAACqB,QAAQ,CAAC,CAAC,CAAC,CAACwC,CAAC,CAAE7D,OAAO,CAACqB,QAAQ,CAAC,CAAC,CAAC,CAACyC,CAAC,CAAC,CAE5D,IAAK,GAAI,CAAAC,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAG/D,OAAO,CAACqB,QAAQ,CAACH,MAAM,CAAE6C,CAAC,EAAE,CAC9ChC,EAAE,CAAC8C,WAAW,CAAC7E,OAAO,CAACqB,QAAQ,CAAC0C,CAAC,CAAC,CAACF,CAAC,CAAE7D,OAAO,CAACqB,QAAQ,CAAC0C,CAAC,CAAC,CAACD,CAAC,CAAC,CAE9D/B,EAAE,CAAC4C,QAAQ,CAAC5C,EAAE,CAAC6C,KAAK,CAAC,CACvB,CAAC,IAAM,CACL,IAAK,GAAI,CAAAb,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAG/D,OAAO,CAACqB,QAAQ,CAACH,MAAM,CAAE6C,CAAC,EAAE,CAC9ChC,EAAE,CAAC8C,WAAW,CAAC7E,OAAO,CAACqB,QAAQ,CAAC0C,CAAC,CAAC,CAACF,CAAC,CAAE7D,OAAO,CAACqB,QAAQ,CAAC0C,CAAC,CAAC,CAACD,CAAC,CAAC,CAE9D,IAAK,GAAI,CAAAC,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAG,CAAC,CAAEA,CAAC,EAAE,CACxBhC,EAAE,CAAC8C,WAAW,CAAC7E,OAAO,CAACqB,QAAQ,CAAC0C,CAAC,CAAC,CAACF,CAAC,CAAE7D,OAAO,CAACqB,QAAQ,CAAC0C,CAAC,CAAC,CAACD,CAAC,CAAC,CAE9D/B,EAAE,CAAC4C,QAAQ,CAAC,CAAC,CACf,CACF,CACF,CACA5C,EAAE,CAACX,GAAG,CAAC,CAAC,CACV,CAEA,mBACEf,IAAA,QAAKkB,EAAE,CAAEI,QAAS,CAAAH,QAAA,cAChBnB,IAAA,CAACP,MAAM,EACLgC,KAAK,CAAEA,KAAM,CACbuB,IAAI,CAAEA,IAAK,CACXe,YAAY,CAAEA,YAAa,CAC5B,CAAC,CACC,CAAC,CAEV,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}